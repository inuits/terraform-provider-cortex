---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "cortex Provider"
subcategory: ""
description: |-
  
---

# Cortex Provider

The Cortex provider configures alertmanager and rule-groups in
[Cortex](https://grafana.com/oss/cortex/), which is a horizontally scalable, highly 
available, multi-tenant, long term storage for Prometheus.

The provider configuration block accepts the following arguments:

* `address` - (Required) The root URL of Cortex cluster. May alternatively be set
  via the `CORTEX_ADDRESS` environment variable.

* `tenant_id` - (Required) The Tenant ID, passed as X-Org-ScopeID HTTP header.
  May alternatively be set via the `CORTEX_TENANT_ID` environment variable.

* `api_key` - (Required) API key, used as basic auth password.  
  May alternatively be set via the `CORTEX_API_KEY` environment
  variable.

Use the navigation to the left to read about the available resources.



## Example Usage

```terraform
provider "cortex" {
  address   = "http://127.0.0.1:8080"
  tenant_id = "example"
}

resource "cortex_alertmanager" "main" {
  template_files = {
    default_template = <<EOT
    {{ define "__alertmanager" }}AlertManager{{ end }}
    {{ define "__alertmanagerURL" }}{{ .ExternalURL }}/#/alerts?receiver={{ .Receiver | urlquery }}{{ end }}
EOT
  }
  alertmanager_config = <<EOT
route:
  group_by: ['alertname']
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 1h
  receiver: 'web.hook'
receivers:
- name: 'web.hook'
  webhook_configs:
  - url: 'http://127.0.0.1:5001/'
inhibit_rules:
  - source_match:
      severity: 'critical'
    target_match:
      severity: 'warning'
    equal: ['alertname', 'dev', 'instance']
EOT
}

resource "cortex_rules" "watchdog" {
  namespace = "default"
  content   = <<EOT
name: watchdog
rules:
- alert: Watchdog
  expr: vector(1)
  for: 20m
EOT
}
```

<!-- schema generated by tfplugindocs -->
## Schema

